<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>pinktrace: Trace</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">pinktrace
   &#160;<span id="projectnumber">Version 0.1.3</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Trace</div>  </div>
<div class="ingroups"><a class="el" href="group__g__core.html">Core</a></div></div>
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="files"></a>
Files</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="trace_8h.html">trace.h</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><p>Pink's low level wrappers around <code>ptrace(2)</code> internals. </p>
<br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga7cdf1e8934c24c3e4299da2aead47632">PINK_TRACE_OPTION_SYSGOOD</a>&#160;&#160;&#160;(1 &lt;&lt; 0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gae793a456513f76fda5054672004b7e5c">PINK_TRACE_OPTION_FORK</a>&#160;&#160;&#160;(1 &lt;&lt; 1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga7da725527e7e836866277c96aceb02f2">PINK_TRACE_OPTION_VFORK</a>&#160;&#160;&#160;(1 &lt;&lt; 2)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gaebe60ac526457a1c3d87523a76d39090">PINK_TRACE_OPTION_CLONE</a>&#160;&#160;&#160;(1 &lt;&lt; 3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga38e8b0755d89e623eb25ea7e51e2df75">PINK_TRACE_OPTION_EXEC</a>&#160;&#160;&#160;(1 &lt;&lt; 4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gab884fc27064ff84c17e65d9b4021e0fe">PINK_TRACE_OPTION_VFORK_DONE</a>&#160;&#160;&#160;(1 &lt;&lt; 5)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga6fbe28f34d58d243afb044c2eb16fd3b">PINK_TRACE_OPTION_EXIT</a>&#160;&#160;&#160;(1 &lt;&lt; 6)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gad0d1852660aeca4e265bf5f5ded8b734">PINK_TRACE_OPTION_ALL</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga55511c94ece343fca8bb6680b20c08e7">pink_trace_resume</a>(pid, sig)&#160;&#160;&#160;pink_trace_cont((pid), (sig), (char *)1)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga29ca39b6da86df95843bb082dfadc8c4">pink_trace_me</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont</a> (pid_t pid, int sig, char *addr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gac043ff00bdd6dc1c3db509b6c8fc7b67">pink_trace_kill</a> (pid_t pid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga9eb0f4bc0e94fe0fbc223103f5513d06">pink_trace_singlestep</a> (pid_t pid, int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gaa64d408c195b70a0d7ab9676405101f0">pink_trace_syscall</a> (pid_t pid, int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga47bc338a1f6848696062373b6cb056fb">pink_trace_syscall_entry</a> (pid_t pid, int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga4d0257e8cb27fc10759c246d32a49f4b">pink_trace_syscall_exit</a> (pid_t pid, int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga3966fe17eb85811f38adcf5f125b5f42">pink_trace_geteventmsg</a> (pid_t pid, unsigned long *data)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup</a> (pid_t pid, int options)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#gae4ffbb0b4eb3f0f10cebbc240620ce37">pink_trace_sysemu</a> (pid_t pid, int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga31ff98dac3f74e901146586ddbe93bbf">pink_trace_sysemu_singlestep</a> (pid_t pid, int sig)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga58164d4c786e4aa74b1d67bb03366b96">pink_trace_attach</a> (pid_t pid)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__g__trace.html#ga6022aab7dedb19f17ebf8ad4fa6f6c08">pink_trace_detach</a> (pid_t pid, int sig)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Pink's low level wrappers around <code>ptrace(2)</code> internals </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="ga7cdf1e8934c24c3e4299da2aead47632"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_SYSGOOD" ref="ga7cdf1e8934c24c3e4299da2aead47632" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_SYSGOOD&#160;&#160;&#160;(1 &lt;&lt; 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This define represents the trace option SYSGOOD. If this flag is set in the options argument of <a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup()</a>, when delivering syscall traps, bit 7 is set in signal number (i.e., deliver (SIGTRAP | 0x80) This makes it easy for the tracer to tell the difference between normal traps and those caused by a syscall. This option may not work on all architectures.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pink-fork-linux_8c-example.html#a4">pink-fork-linux.c</a>, and <a class="el" href="pink-simple-strace-linux_8c-example.html#a22">pink-simple-strace-linux.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="trace_8h_source.html#l00054">54</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae793a456513f76fda5054672004b7e5c"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_FORK" ref="gae793a456513f76fda5054672004b7e5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_FORK&#160;&#160;&#160;(1 &lt;&lt; 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This define represents the trace option FORK. If this flag is set in the options argument of <a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup()</a>, stop the child at the next fork(2) call with (SIGTRAP | PTRACE_EVENT_FORK &lt;&lt; 8) and automatically start tracing the newly forked process, which will start with a SIGSTOP. The PID for the new process can be retrieved with <a class="el" href="group__g__trace.html#ga3966fe17eb85811f38adcf5f125b5f42">pink_trace_geteventmsg()</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>

<p>Definition at line <a class="el" href="trace_8h_source.html#l00067">67</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga7da725527e7e836866277c96aceb02f2"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_VFORK" ref="ga7da725527e7e836866277c96aceb02f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_VFORK&#160;&#160;&#160;(1 &lt;&lt; 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This define represents the trace option VFORK. If this flag is set in the options argument of <a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup()</a>, stop the child at the next vfork(2) call with (SIGTRAP | PTRACE_EVENT_VFORK &lt;&lt; 8) and automatically start tracing the newly vforked process, which will start with a SIGSTOP. The PID for the new process can be retrieved with <a class="el" href="group__g__trace.html#ga3966fe17eb85811f38adcf5f125b5f42">pink_trace_geteventmsg()</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>

<p>Definition at line <a class="el" href="trace_8h_source.html#l00080">80</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaebe60ac526457a1c3d87523a76d39090"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_CLONE" ref="gaebe60ac526457a1c3d87523a76d39090" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_CLONE&#160;&#160;&#160;(1 &lt;&lt; 3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This define represents the trace option CLONE. If this flag is set in the options argument of <a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup()</a>, stop the child at the next clone(2) call with (SIGTRAP | PTRACE_EVENT_CLONE &lt;&lt; 8) and automatically start tracing the newly cloned process, which will start with a SIGSTOP. The PID for the new process can be retrieved with <a class="el" href="group__g__trace.html#ga3966fe17eb85811f38adcf5f125b5f42">pink_trace_geteventmsg()</a>.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>

<p>Definition at line <a class="el" href="trace_8h_source.html#l00093">93</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga38e8b0755d89e623eb25ea7e51e2df75"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_EXEC" ref="ga38e8b0755d89e623eb25ea7e51e2df75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_EXEC&#160;&#160;&#160;(1 &lt;&lt; 4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This define represents the trace option EXEC. If this flag is set in the options argument of <a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup()</a>, stop the child at the next execve(2) call with (SIGTRAP | PTRACE_EVENT_EXEC &lt;&lt; 8)</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pink-simple-strace-linux_8c-example.html#a23">pink-simple-strace-linux.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="trace_8h_source.html#l00103">103</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="gab884fc27064ff84c17e65d9b4021e0fe"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_VFORK_DONE" ref="gab884fc27064ff84c17e65d9b4021e0fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_VFORK_DONE&#160;&#160;&#160;(1 &lt;&lt; 5)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This define represents the trace option VFORKDONE. If this flag is set in the options argument of <a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup()</a>, stop the child at the completion of the next vfork(2) call with (SIGTRAP | PTRACE_EVENT_VFORK_DONE &lt;&lt; 8)</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>

<p>Definition at line <a class="el" href="trace_8h_source.html#l00114">114</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga6fbe28f34d58d243afb044c2eb16fd3b"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_EXIT" ref="ga6fbe28f34d58d243afb044c2eb16fd3b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_EXIT&#160;&#160;&#160;(1 &lt;&lt; 6)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This define represents the trace option EXIT. If this flag is set in the options argument of <a class="el" href="group__g__trace.html#gabdc74d61f359a86bb77b4cccd3703913">pink_trace_setup()</a>, stop the child at exit with (SIGTRAP | PTRACE_EVENT_EXIT &lt;&lt; 8). This child's exit status can be retrieved with <a class="el" href="group__g__trace.html#ga3966fe17eb85811f38adcf5f125b5f42">pink_trace_geteventmsg()</a>. This stop will be done early during process exit when registers are still available, allowing the tracer to see where the exit occured, whereas the normal exit notification is done after the process is finished exiting. Even though context is available, the tracer cannot prevent the exit from happening at this point.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>

<p>Definition at line <a class="el" href="trace_8h_source.html#l00130">130</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="gad0d1852660aeca4e265bf5f5ded8b734"></a><!-- doxytag: member="trace.h::PINK_TRACE_OPTION_ALL" ref="gad0d1852660aeca4e265bf5f5ded8b734" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PINK_TRACE_OPTION_ALL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(<a class="code" href="group__g__trace.html#ga7cdf1e8934c24c3e4299da2aead47632">PINK_TRACE_OPTION_SYSGOOD</a> |\
         PINK_TRACE_OPTION_FORK |\
         PINK_TRACE_OPTION_VFORK |\
         PINK_TRACE_OPTION_CLONE |\
         PINK_TRACE_OPTION_EXEC |\
         PINK_TRACE_OPTION_VFORK_DONE |\
         PINK_TRACE_OPTION_EXIT)
</pre></div><p>All trace options OR'ed together.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux </dd></dl>

<p>Definition at line <a class="el" href="trace_8h_source.html#l00139">139</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga55511c94ece343fca8bb6680b20c08e7"></a><!-- doxytag: member="trace.h::pink_trace_resume" ref="ga55511c94ece343fca8bb6680b20c08e7" args="(pid, sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pink_trace_resume</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pid, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">sig&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;pink_trace_cont((pid), (sig), (char *)1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Convenience macro to resume the stopped child process.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont</a> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pink-fork-freebsd_8c-example.html#a1">pink-fork-freebsd.c</a>, and <a class="el" href="pink-fork-linux_8c-example.html#a6">pink-fork-linux.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="trace_8h_source.html#l00198">198</a> of file <a class="el" href="trace_8h_source.html">trace.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga29ca39b6da86df95843bb082dfadc8c4"></a><!-- doxytag: member="trace.h::pink_trace_me" ref="ga29ca39b6da86df95843bb082dfadc8c4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_me </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates that this process is to be traced by its parent. Any signal (except SIGKILL) delivered to this process will cause it to stop and its parent to be notified via wait(2). Also, all subsequent calls to execve(2) by this process will cause a SIGTRAP to be sent to it, giving the parent a chance to gain control before the new program begins execution.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is used only by the child process; the rest are used only by the parent.</dd></dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pink-fork-freebsd_8c-example.html#a0">pink-fork-freebsd.c</a>, <a class="el" href="pink-fork-linux_8c-example.html#a0">pink-fork-linux.c</a>, <a class="el" href="pink-simple-strace-freebsd_8c-example.html#a17">pink-simple-strace-freebsd.c</a>, and <a class="el" href="pink-simple-strace-linux_8c-example.html#a18">pink-simple-strace-linux.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gaac93c205ce43cc53733cb3c2c774f0f5"></a><!-- doxytag: member="trace.h::pink_trace_cont" ref="gaac93c205ce43cc53733cb3c2c774f0f5" args="(pid_t pid, int sig, char *addr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_cont </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child process.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be restarted. </td></tr>
    <tr><td class="paramname">sig</td><td>If this is non-zero and not SIGSTOP, it is interpreted as the signal to be delivered to the child; otherwise, no signal is delivered. Thus, for example, the parent can control whether a signal sent to the child is delivered or not. </td></tr>
    <tr><td class="paramname">addr</td><td>On FreeBSD this argument is an address specifying the place where execution is to be resumed (a new value for the program counter), or (char *)1 to indicate that execution is to pick up where it left off. On Linux, this argument is not used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>

</div>
</div>
<a class="anchor" id="gac043ff00bdd6dc1c3db509b6c8fc7b67"></a><!-- doxytag: member="trace.h::pink_trace_kill" ref="gac043ff00bdd6dc1c3db509b6c8fc7b67" args="(pid_t pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_kill </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Kills the traced child process with SIGKILL.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be killed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pink-fork-linux_8c-example.html#a5">pink-fork-linux.c</a>, and <a class="el" href="pink-simple-strace-linux_8c-example.html#a24">pink-simple-strace-linux.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga9eb0f4bc0e94fe0fbc223103f5513d06"></a><!-- doxytag: member="trace.h::pink_trace_singlestep" ref="ga9eb0f4bc0e94fe0fbc223103f5513d06" args="(pid_t pid, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_singlestep </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child process and arranges it to be stopped after execution of a single instruction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be restarted. </td></tr>
    <tr><td class="paramname">sig</td><td>Treated the same as the signal argument of <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa64d408c195b70a0d7ab9676405101f0"></a><!-- doxytag: member="trace.h::pink_trace_syscall" ref="gaa64d408c195b70a0d7ab9676405101f0" args="(pid_t pid, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_syscall </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child process and arranges it to be stopped after the entry or exit of the next system call.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be restarted. </td></tr>
    <tr><td class="paramname">sig</td><td>Treated the same was as the signal argument of <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pink-simple-strace-freebsd_8c-example.html#a18">pink-simple-strace-freebsd.c</a>, and <a class="el" href="pink-simple-strace-linux_8c-example.html#a28">pink-simple-strace-linux.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="ga47bc338a1f6848696062373b6cb056fb"></a><!-- doxytag: member="trace.h::pink_trace_syscall_entry" ref="ga47bc338a1f6848696062373b6cb056fb" args="(pid_t pid, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_syscall_entry </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child process and arranges it to be stopped after the entry of the next system call.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: FreeBSD</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be restarted. </td></tr>
    <tr><td class="paramname">sig</td><td>Treated the same was as the signal argument of <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4d0257e8cb27fc10759c246d32a49f4b"></a><!-- doxytag: member="trace.h::pink_trace_syscall_exit" ref="ga4d0257e8cb27fc10759c246d32a49f4b" args="(pid_t pid, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_syscall_exit </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child process and arranges it to be stopped after the exit of the next system call.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: FreeBSD</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be restarted. </td></tr>
    <tr><td class="paramname">sig</td><td>Treated the same was as the signal argument of <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3966fe17eb85811f38adcf5f125b5f42"></a><!-- doxytag: member="trace.h::pink_trace_geteventmsg" ref="ga3966fe17eb85811f38adcf5f125b5f42" args="(pid_t pid, unsigned long *data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_geteventmsg </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve a message (as an unsigned long) about the trace event that just happened, placing it in the location given by the second argument. For EXIT event this is the child's exit status. For FORK, VFORK, CLONE and VFORK_DONE events this is the process ID of the new process.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child whose event is to be reported. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to an unsigned long into which the message will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>

</div>
</div>
<a class="anchor" id="gabdc74d61f359a86bb77b4cccd3703913"></a><!-- doxytag: member="trace.h::pink_trace_setup" ref="gabdc74d61f359a86bb77b4cccd3703913" args="(pid_t pid, int options)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_setup </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets the tracing options.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be setup. </td></tr>
    <tr><td class="paramname">options</td><td>Bitwise OR'ed PINK_TRACE_OPTION_* flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="pink-fork-linux_8c-example.html#a3">pink-fork-linux.c</a>, and <a class="el" href="pink-simple-strace-linux_8c-example.html#a21">pink-simple-strace-linux.c</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="gae4ffbb0b4eb3f0f10cebbc240620ce37"></a><!-- doxytag: member="trace.h::pink_trace_sysemu" ref="gae4ffbb0b4eb3f0f10cebbc240620ce37" args="(pid_t pid, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_sysemu </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child process and arranges it to be stopped after the entry of the next system call which will *not* be executed.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux (2.6.14 or newer)</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be restarted. </td></tr>
    <tr><td class="paramname">sig</td><td>Treated same as the signal argument of <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>0.0.5 </dd></dl>

</div>
</div>
<a class="anchor" id="ga31ff98dac3f74e901146586ddbe93bbf"></a><!-- doxytag: member="trace.h::pink_trace_sysemu_singlestep" ref="ga31ff98dac3f74e901146586ddbe93bbf" args="(pid_t pid, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_sysemu_singlestep </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child process like <a class="el" href="group__g__trace.html#gae4ffbb0b4eb3f0f10cebbc240620ce37">pink_trace_sysemu()</a> but also singlesteps if not a system call.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Availability: Linux (2.6.14 or newer)</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be restarted. </td></tr>
    <tr><td class="paramname">sig</td><td>Treated same as the signal argument of <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly.</dd></dl>
<dl class="since"><dt><b>Since:</b></dt><dd>0.0.5 </dd></dl>

</div>
</div>
<a class="anchor" id="ga58164d4c786e4aa74b1d67bb03366b96"></a><!-- doxytag: member="trace.h::pink_trace_attach" ref="ga58164d4c786e4aa74b1d67bb03366b96" args="(pid_t pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_attach </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attaches to the process specified in pid, making it a traced "child" of the calling process; the behaviour of the child is as if it had done a PTRACE_TRACEME. The child is sent a SIGSTOP, but will not necessarily have stopped by the completion of this call; use wait(2) to wait for the child to stop.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be attached.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6022aab7dedb19f17ebf8ad4fa6f6c08"></a><!-- doxytag: member="trace.h::pink_trace_detach" ref="ga6022aab7dedb19f17ebf8ad4fa6f6c08" args="(pid_t pid, int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool pink_trace_detach </td>
          <td>(</td>
          <td class="paramtype">pid_t&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restarts the stopped child as for <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>, but first detaches from the process, undoing the reparenting effect of <a class="el" href="group__g__trace.html#ga58164d4c786e4aa74b1d67bb03366b96">pink_trace_attach()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">pid</td><td>Process ID of the child to be detached. </td></tr>
    <tr><td class="paramname">sig</td><td>Check the second argument of <a class="el" href="group__g__trace.html#gaac93c205ce43cc53733cb3c2c774f0f5">pink_trace_cont()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>true on success, false on failure and sets errno accordingly. </dd></dl>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Sat Oct 15 2011 01:54:40 for pinktrace by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
